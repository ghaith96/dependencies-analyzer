(this["webpackJsonppkg-depends-analyzer"]=this["webpackJsonppkg-depends-analyzer"]||[]).push([[0],{40:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(7),r=a.n(n),c=a(11),i=a(18),o=new function e(){var t=this;Object(i.a)(this,e),this.getPackageInfo=function(){var e=Object(c.a)(r.a.mark((function e(a){var n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.npms.io/v2/package/".concat(a),c={headers:{"Sec-Fetch-Mode":"cors"}},e.next=4,t.doRequest(n,c);case 4:return(i=e.sent).data=i.data.collected.metadata,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPackages=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.doRequest(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.doRequest=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",{ok:!0,status:n.status,data:c});case 11:return e.abrupt("return",{ok:!1,status:n.status,data:c});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{ok:!1,status:0,data:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}()}},41:function(e,t){},58:function(e,t,a){"use strict";var n=a(40);a.d(t,"apiInstance",(function(){return n.a}));a(41)},63:function(e,t,a){e.exports=a(83)},68:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(25),o=a.n(i),s=(a(68),a(60)),l=a(7),u=a.n(l),p=a(11),m=a(18),g=a(42),h=a(62),f=a(59),d=a(3),E=a(2),b=a(61),k=a(85),y=a(90),w=a(86),v=function(e){var t=e.urlProp,a=e.handleAnalyzeClick,n=e.loading,i=Object(r.useState)(t),o=Object(b.a)(i,2),s=o[0],l=o[1];Object(r.useEffect)((function(){t&&a(s)}));var u=function(){return s&&a(s)};return c.a.createElement(d.a,{style:x.content},c.a.createElement(k.a,{style:x.textInput,textContentType:"URL",value:s,onChangeText:function(e){return l(e)},onSubmitEditing:u,placeholder:"Example: https://github.com/ghaith96/dependencies-analyzer"}),c.a.createElement(y.a,{style:x.button,disabled:!s.trim()||n,onPress:u},c.a.createElement(w.a,{style:x.buttonText},"Analyze")))},x=E.a.create({content:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:4,margin:12},textInput:{flex:.8,padding:8,fontSize:18,lineHeight:4,borderRadius:5,borderColor:"#32908F",borderWidth:1},button:{marginStart:8,padding:10,borderRadius:5,backgroundColor:"#4ECDC4"},buttonText:{color:"#F1F7EE",fontSize:18}}),O=a(87),S=function(e){var t=e.pkg,a=t.name,n=t.homePage,r=t.latestVersion,i=t.description;return c.a.createElement(d.a,{style:j.content},c.a.createElement(d.a,{style:j.cardHeader},c.a.createElement(y.a,{onPress:function(){return n&&window.open(n,"_blank")},onLongPress:function(){return O.a.setString(a)}},c.a.createElement(w.a,{style:j.pkgName},a)),c.a.createElement(w.a,{style:j.latestVersion},r)),c.a.createElement(d.a,{style:j.descriptionContent},c.a.createElement(w.a,{style:j.description},i)))},j=E.a.create({content:{justifyContent:"space-between",padding:12,margin:8,borderRadius:5,minHeight:150,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},spinnerDims:{height:150,width:300,justifyContent:"center",alignItems:"center"},cardHeader:{flexDirection:"row",justifyContent:"center",alignItems:"baseline"},pkgName:{fontSize:24,color:"#47BBB3"},latestVersion:{marginHorizontal:4,fontSize:12},descriptionContent:{flex:1,flexGrow:1,width:300,paddingTop:8,paddingStart:8},description:{fontSize:20}}),z=a(89),C=function(e){var t=e.packages;return c.a.createElement(z.a,{data:t,style:{margin:16},contentContainerStyle:{alignItems:"center",justifyContent:"center"},renderItem:function(e){var t=e.item;return c.a.createElement(S,{key:t.name,pkg:t})},numColumns:5,centerContent:!0,bounces:!0})},R=function(){return c.a.createElement(d.a,{style:I.content},c.a.createElement(w.a,{style:I.madeWith},"Made with ",c.a.createElement("span",{role:"img","aria-label":"heart"},"\ud83d\udc96")," by "),c.a.createElement(y.a,{onPress:function(){return window.open("https://github.com/ghaith96","_blank")}},c.a.createElement(w.a,{style:I.myName},"ghaith")))},I=E.a.create({content:{flexDirection:"row",justifyContent:"center",alignItems:"baseline",marginTop:8},madeWith:{fontSize:18},myName:{color:"#5475AB",fontSize:18,fontWeight:"600"}}),T=function(){return c.a.createElement(d.a,{style:P.content},c.a.createElement(w.a,{style:P.header},"Dependencies Analyzer"),c.a.createElement(w.a,{style:P.description},"get fast insight into any NodeJs project on GitHub by peeking at its dependencies"))},P=E.a.create({content:{alignItems:"center"},header:{fontSize:25,color:"#47BBB3"},description:{fontSize:20,marginVertical:4,marginStart:8,color:"#1A535C"}}),_=a(88),B=function(e){var t=e.percentage;return c.a.createElement(d.a,{style:N.content},c.a.createElement(_.a,{size:55,color:"#47BBB3"}),c.a.createElement(w.a,{style:N.percentage},t,"%"))},N=E.a.create({content:{flexDirection:"row",justifyContent:"center",alignItems:"center"},percentage:{fontSize:25,marginHorizontal:16}}),U=Object.freeze({GITHUB_REPO:/github\.com\/(.*?)\/(.*?)\//i,GITHUB_PACKAGE_FILE:/github\.com\/(.*)\/(.*)\/blob\/(.*)\/package.json/i,GITHUB_RAW:/raw.githubusercontent\.com\/(?:.*){4}\/package.json/i}),A=(Object.freeze({SOMETHING_WENT_WRONG:"if you are seeing this please feel free to open an issue in https://github.com/ghaith96/dependencies-analyzer\nthe following info might help \nerror:"}),function(e){var t;return(t=e.match(U.GITHUB_RAW))?e:(t="".concat(e,"/").match(U.GITHUB_PACKAGE_FILE))?F(t):(t="".concat(e,"/").match(U.GITHUB_REPO))?G(t):""}),F=function(e){return e.shift(),"https://raw.githubusercontent.com/".concat(e.join("/"),"/package.json")},G=function(e){return e.shift(),"https://raw.githubusercontent.com/".concat(e.join("/"),"/master/package.json")},H=a(58);!function(e){e[e.WRONG_URL_FORMAT=500]="WRONG_URL_FORMAT",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.BAD_REQUEST=400]="BAD_REQUEST"}(n||(n={}));var D=new function e(t){var a=this;Object(m.a)(this,e),this.apiService=t,this.cache=window.sessionStorage,this.getPackageInfo=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.cache.getItem(t))){e.next=4;break}return r=JSON.parse(n),e.abrupt("return",{ok:!0,status:200,data:r});case 4:return e.next=6,a.apiService.getPackageInfo(t);case 6:return(c=e.sent).ok,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPackages=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.cache.getItem(t))){e.next=4;break}return r=JSON.parse(n),e.abrupt("return",{ok:!0,status:200,data:r});case 4:return e.next=6,a.apiService.getPackages(t);case 6:return(c=e.sent).ok&&a.cache.setItem(t,JSON.stringify(c.data)),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPackagesFromApi=function(){var e=Object(p.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(t)){e.next=3;break}return e.abrupt("return",{status:n.WRONG_URL_FORMAT});case 3:return e.next=5,a.apiService.getPackages(r);case 5:return c=e.sent,e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(H.apiInstance),W=function(e,t){return e.description?t.description?e.description.length-t.description.length:1:-1},L=function(){return c.a.createElement(d.a,{style:M.content},c.a.createElement(w.a,{style:M.header},"Wrong URL format ",c.a.createElement("span",{role:"img","aria-label":"dont-know"},"\ud83e\udd37\u200d\u2642")),c.a.createElement(w.a,{style:M.description},"Check the following valid examples ",c.a.createElement("span",{role:"img","aria-label":"look-down"},"\ud83d\udc47")),c.a.createElement(d.a,{style:M.examplesContainer},c.a.createElement(w.a,{style:M.example},"\u2022 https://github.com/ghaith96/dependencies-analyzer (",c.a.createElement("em",null,"given the repository has package.json in the base folder"),")"),c.a.createElement(w.a,{style:M.example},"\u2022 https://github.com/ghaith96/dependencies-analyzer/blob/master/package.json"),c.a.createElement(w.a,{style:M.example},"\u2022 https://raw.githubusercontent.com/ghaith96/dependencies-analyzer/master/package.json")))},M=E.a.create({content:{margin:8,marginHorizontal:16},header:{fontSize:35,color:"#FF6B6B"},description:{fontSize:20,margin:4},examplesContainer:{marginStart:12,margin:4},example:{fontSize:20,marginVertical:8}}),V=function(){return c.a.createElement(d.a,{style:J.content},c.a.createElement(d.a,{style:J.headerContent},c.a.createElement(w.a,{style:J.header},"GitHub responded with "),c.a.createElement(w.a,{style:J.error},"404 NOT FOUND")),c.a.createElement(w.a,{style:J.description},"Take note of the following ",c.a.createElement("span",{role:"img","aria-label":"look-down"},"\ud83d\udc47")," while investigating ",c.a.createElement("span",{role:"img","aria-label":"investigate"},"\ud83e\uddd0")),c.a.createElement(d.a,{style:J.examplesContainer},c.a.createElement(w.a,{style:J.example},"\u2022 Make sure the repository is NodeJs project. (i.e: has ",c.a.createElement("code",null,"package.json")," file)"),c.a.createElement(w.a,{style:J.example},"\u2022 Try to submit an absolute url to the ",c.a.createElement("code",null,"package.json")," file in the repository."),c.a.createElement(w.a,{style:J.example},"\u2022 Double check the submitted URL ",c.a.createElement("span",{role:"img","aria-label":"luck"},"\ud83e\udd1e"),"."),c.a.createElement(w.a,{style:J.example},"\u2022 Private repositories are ",c.a.createElement("em",null,"NOT")," supported.")))},J=E.a.create({content:{margin:8,marginHorizontal:16},headerContent:{flexDirection:"row"},header:{fontSize:35},error:{color:"#FF6B6B",fontSize:35},description:{fontSize:20,margin:4},examplesContainer:{marginStart:12,margin:4},example:{fontSize:20,marginVertical:8}}),q=function(){return c.a.createElement(d.a,{style:K.content},c.a.createElement(w.a,{style:K.header},c.a.createElement("span",{role:"img","aria-label":"sorry"},"\ud83d\ude13")," Something went wrong somewhere.."),c.a.createElement(w.a,{style:K.description},"SORRY! This shouldn't be happening."))},K=E.a.create({content:{alignItems:"center",marginVertical:16},header:{fontSize:35,color:"#FF6B6B"},description:{marginHorizontal:8,fontSize:20,marginVertical:8}}),Q=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).getPackages=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({loading:!0,packages:[],lastError:-1}),!(a=A(t))){e.next=7;break}return e.next=5,r.fetchPackages(a);case 5:e.next=8;break;case 7:r.setState({loading:!1,packages:[],lastError:n.WRONG_URL_FORMAT});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.fetchPackages=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getPackages(t);case 2:(a=e.sent).ok?(n=Object.keys(a.data.dependencies),r.setState({packagesCount:n.length}),n.forEach((function(e){return D.getPackageInfo(e).then(r.handleNewPackage,console.error)}))):r.setState({loading:!1,lastError:a.status});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleNewPackage=function(e){if(e.ok){var t=e.data,a=r.state.packages.length+1<r.state.packagesCount,n=[].concat(Object(s.a)(r.state.packages),[t]);n=a?n:n.sort(W),r.setState({packages:n,loading:a})}},r.tryParseUrl=function(){return function(e){return e.match(U.GITHUB_RAW)||e.match(U.GITHUB_PACKAGE_FILE)||e.match(U.GITHUB_REPO)?e:""}(window.location.pathname.replace("/","")+"/")},r.state={loading:!1,lastError:-1,packages:[],packagesCount:0},r}return Object(g.a)(a,[{key:"render",value:function(){var e=this.tryParseUrl(),t=Math.floor(this.state.packages.length/this.state.packagesCount*100)||0,a=this.state,r=a.loading,i=a.lastError;return c.a.createElement(d.a,{style:Y.content},c.a.createElement(T,null),c.a.createElement(v,{loading:r,urlProp:e,handleAnalyzeClick:this.getPackages}),i>=0?function(e){switch(e){case n.WRONG_URL_FORMAT:return c.a.createElement(L,null);case n.NOT_FOUND:return c.a.createElement(V,null);case n.BAD_REQUEST:default:return c.a.createElement(q,null)}}(i):c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{packages:this.state.packages}),r&&c.a.createElement(B,{percentage:t})),c.a.createElement(R,null))}}]),a}(c.a.Component),Y=E.a.create({content:{margin:8,justifyContent:"space-between"}});o.a.render(c.a.createElement(Q,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.628e8ef1.chunk.js.map